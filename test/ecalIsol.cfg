

process h  = {
    # include services
    include "Configuration/ReleaseValidation/data/Services.cfi"
    
    # initialize MessageLogger
    include "FWCore/MessageLogger/data/MessageLogger.cfi"
    
    
    #   service = Tracer { untracked string indention = "$$"}	
    service = RandomNumberGeneratorService
    {
	untracked uint32 sourceSeed = 98765
    }
    
    untracked PSet options = {
	untracked bool makeTriggerResults = true
	vstring listOfTriggers={}
    }
    source = PoolSource {
        untracked vstring fileNames = {
#	'/store/unmerged/RelVal/2006/11/3/RelVal120pre4BJets50-120/GEN-SIM-DIGI-RECO/0005/3291E7BE-786D-DB11-A11F-0002B3D8EB55.root',
#	'/store/unmerged/RelVal/2006/11/3/RelVal120pre4BJets50-120/GEN-SIM-DIGI-RECO/0005/0E90F583-5C6D-DB11-A8D6-0007E91B5B29.root',
#	'/store/unmerged/RelVal/2006/11/3/RelVal120pre4BJets50-120/GEN-SIM-DIGI-RECO/0005/34BA09E6-A56C-DB11-8AC5-000E0C4DF2F6.root',
#	'/store/unmerged/RelVal/2006/11/3/RelVal120pre4BJets50-120/GEN-SIM-DIGI-RECO/0005/62FC5F23-D56B-DB11-913A-000E0C3F0C08.root',
#	'/store/unmerged/RelVal/2006/11/3/RelVal120pre4BJets50-120/GEN-SIM-DIGI-RECO/0005/784FFA3A-4E6E-DB11-BD88-0007E91B5F3F.root',
#	'/store/unmerged/RelVal/2006/11/3/RelVal120pre4BJets50-120/GEN-SIM-DIGI-RECO/0005/A0D02E50-A36C-DB11-85FF-0002B3D8E80D.root',
#	'/store/unmerged/RelVal/2006/11/3/RelVal120pre4BJets50-120/GEN-SIM-DIGI-RECO/0005/A24950D5-916B-DB11-8C5E-000E0C3F196E.root',
#	'/store/unmerged/RelVal/2006/11/3/RelVal120pre4BJets50-120/GEN-SIM-DIGI-RECO/0005/A6B29DBF-816D-DB11-81A8-0002B3D8EA9B.root',
#	'/store/unmerged/RelVal/2006/11/3/RelVal120pre4BJets50-120/GEN-SIM-DIGI-RECO/0005/AE0890A0-B36E-DB11-9AF3-00304858E00E.root',
#	'/store/unmerged/RelVal/2006/11/3/RelVal120pre4BJets50-120/GEN-SIM-DIGI-RECO/0005/AEE1C2AB-666D-DB11-B064-00304858DF38.root',
#	'/store/unmerged/RelVal/2006/11/3/RelVal120pre4BJets50-120/GEN-SIM-DIGI-RECO/0005/C6DEEBC6-B46B-DB11-8C0A-000E0C3F13CF.root',
#	'/store/unmerged/RelVal/2006/11/3/RelVal120pre4BJets50-120/GEN-SIM-DIGI-RECO/0005/DE5542CF-8F6B-DB11-A2A7-003048830953.root',
#	'/store/unmerged/RelVal/2006/11/3/RelVal120pre4BJets50-120/GEN-SIM-DIGI-RECO/0005/EC486BFA-4B6E-DB11-B76D-003048560F0E.root'


#'/store/unmerged/RelVal/2006/11/17/PhysVal111-CCbar-LowLumiPU/GEN-SIM-DIGI-RECO/0000/CAD811E9-2A78-DB11-A79D-000E0C4D36D6.root',
#'/store/mc/2006/11/17/PhysVal111-BBbar-LowLumiPU/0001/B6C3F20C-8D76-DB11-A04E-003048758A09.root'
'rfio:/castor/cern.ch/user/m/monicava/HLTVal111_Hto2tau_M200/200D80CD-9576-DB11-A900-0017312B5BAD.root'
#	    'file:/afs/cern.ch/cms/Tutorials/july06/BTauReconstruction/TauSample_1_0_1/tauReco.root'  
	}
	untracked int32 maxEvents = 10

    }
    
    #  Start Calo Tau HLT modules definition
    #  =============
    #
    #  build MC generated jets as L1 seeds prototype
    #
    
    module l1extramctruth = l1extramctruth from "L1Trigger/L1ExtraFromMCTruthProd/data/l1extramctruth.cfi"
    replace l1extramctruth.jetSource = iterativeCone5GenJets
    replace l1extramctruth.jetFakeTauProb = 0.0
    replace l1extramctruth.singleTauMinEt = 100.
    replace l1extramctruth.doubleTauMinEt = 66.

    include "HLTrigger/HLTstaging/data/tau/TauHLT.cff"
    
    #Timing
    // subroutine-by-subroutine timing info (optional)
    service = SimpleProfiling {}
    
    module myTimer = Timer{
	
        // whether to include timing info about Timer itself
        untracked bool includeSelf = false
    }
    
    
        
    module CaloTauHLT = PoolOutputModule {
	untracked string fileName = '/tmp/gennai/ditau_hlt_noPU.root'
#	untracked string fileName = '/tmp/gennai/ditau_hlt_PU.root'
	untracked vstring outputCommands = {

	    "keep *",
	    "drop *_mix_*_*",
	    # drop G4 objects
	    "drop *_SimG4Object_*_*",
	    # drop digis
	    "drop *_muoncscdigi_*_*",
	    "drop *_muondtdigi_*_*",
	    "drop *_muonrpcdigi_*_*",
	    "drop *_stripdigi_*_*",
	    "drop *_pixdigi_*_*",
	    "drop *_hcaldigi_*_*",
	    "drop *_ecaldigi_*_*"
	}
    } 
    #

   module jetCrystalsAssociator = JetCrystalsAssociator {
      InputTag towers = towerMaker
      InputTag jets   =l2TauJetsProvider:DoubleTau
      double coneSize = 0.5
    }

#    path genJet = {genCandidates, iterativeCone5GenJets,caloReco}
#    path caloReco = {l1extramctruth, caloTausCreator, ecalFilter, pixelTracks, pixelVertices} //EcalFilter only for Loading digis
    path l1MCCandidate = {tauGenJet,l1extraTaumctruth, caloTausCreator} //EcalFilter only for Loading digis

    path jetCrsytalAssociator = {jetCrystalsAssociator}

    endpath outpath = { myTimer, CaloTauHLT }

}
